---
/**
 * FeaturedWorkScroll
 *
 * A small affordance component that encourages users to scroll
 * down to the featured gallery. It smoothly scrolls one viewport
 * height and hides itself once the user begins scrolling.
 *
 * Implemented as an Astro component with inline JS:
 * - No state
 * - No reactivity
 * - No Preact needed
 */

import { ChevronDown } from 'lucide-astro';
---
<div
	id="featured-gallery-scroll"
	class="relative mt-24 left-0 right-0 flex justify-center transition-opacity duration-300"
>
	<button
		onclick="scrollToContent();"
		class="flex flex-col items-center text-gray-600 hover:text-gray-900 transition-colors hover:cursor-pointer"
		aria-label="Scroll down to see featured work"
	>
		<span class="text-sm mb-2">Featured Work</span>
		<ChevronDown size={24} />
	</button>
</div>

<script is:inline>
	// Smoothly scroll down by one viewport height
	const scrollToContent = () => {
		window.scrollTo({
			top: window.innerHeight,
			behavior: 'smooth',
		});
	};

	// Hide the scroll cue once the user starts scrolling
	document.addEventListener('DOMContentLoaded', () => {
		const button = document.getElementById('featured-gallery-scroll');
		if (!button) return;

		window.addEventListener('scroll', () => {
			if (window.scrollY > 100) {
				button.style.opacity = 0;
				button.style.visibility = 'hidden';
			} else {
				button.style.visibility = 'visible';
				button.style.opacity = 1;
			}
		});
	});
</script>
